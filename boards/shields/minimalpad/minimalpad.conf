# Enable EC11 encoder
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# Enable RGB underglow
CONFIG_ZMK_RGB_UNDERGLOW=y
CONFIG_WS2812_STRIP=y
CONFIG_ZMK_RGB_UNDERGLOW_ON_START=y
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=y
CONFIG_ZMK_RGB_UNDERGLOW_BRT_START=70

# Enable USB
CONFIG_ZMK_USB=y

# Enable Bluetooth
CONFIG_ZMK_BLE=y
CONFIG_BT=y
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5

# Bluetooth Controller Configuration for nRF52840
CONFIG_BT_CTLR=y
CONFIG_BT_CTLR_MODE_EFF=1
CONFIG_BT_CTLR_BLE_ADV_TX_POWER=0
CONFIG_BT_CTLR_TX_PWR_0=y
CONFIG_BT_CTLR_TX_PWR_ANTENNA=0

# Additional Bluetooth settings for better compatibility
CONFIG_BT_CTLR_PHY_2M=n
CONFIG_BT_CTLR_PHY_CODED=n
CONFIG_BT_CTLR_ADV_EXT=y
CONFIG_BT_CTLR_ADV_DATA_LEN_MAX=31
CONFIG_BT_CTLR_ADV_DATA_LEN=y